<html>
    <head>
        <script src="js/mail-generator.js"></script>
        <link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

        function buildMe(mail) {
            for(var i = 0; i<mail.length; i++) {
                 //console.log(mail[i]);
                var main = document.getElementById("main");
                var myMail = document.createElement('div');
                    myMail.className = "myMail";
                main.appendChild(myMail);

                var myDate = document.createElement('div');
                    myDate.className = "myDate";
                var mySender = document.createElement('div');
                    mySender.className = "mySender";
                var mySubject = document.createElement('div');
                    mySubject.className = "mySubject";
                var myBody = document.createElement('div');
                    myBody.className = "myBody";

              //this is inserting the data containers into the "myMail" div which is appended to the main div located inside the body 
                myDate.innerHTML = mail[i].date;
                mySender.innerHTML = mail[i].sender;
                mySubject.innerHTML = mail[i].subject;
                myBody.innerHTML = mail[i].body;

                //this is appending the the sender, subject, and body div's to the myMail div
                myMail.appendChild(myDate);
                myMail.appendChild(mySender);
                myMail.appendChild(mySubject);
                myMail.appendChild(myBody);

            }    

        setInterval(function() { 
            var emailMe = document.getElementsByClassName('myEmail');
                for (var i = 0; i<emailMe.length; i++){
                    emailMe[i].addEventListener('click', toggleBody);
                }
            
        
        function toggleBody(id) { 
            var showBody = this.querySelectorAll('.myBody')[0];
                 if(showBody.style.display === 'none') {
                     showBody.style.display = 'block';
                 }else{
                     showBody.style.display = 'none';
                 }
        }
            var main = document.getElementById('main'); 
            var myMail = document.createElement('div');
                    myEmailData = getNewMessage();
                        myMail.className = "myEmail";
                            main.appendChild(myMail);
                    
                
                var myDate = document.createElement('div');
                    myDate.className = "myDate";
                var mySender = document.createElement('div');
                    mySender.className = "mySender";
                var mySubject = document.createElement('div');
                    mySubject.className = "mySubject";
                var myBody = document.createElement('div');
                    myBody.className = "myBody";

                    mySender.innerHTML = myEmailData.sender;
                    myDate.innerHTML = myEmailData.date;
                    mySubject.innerHTML = myEmailData.subject; 
                    myBody.innerHTML = myEmailData.body;

                    myMail.appendChild(myDate);
                    myMail.appendChild(mySender);
                    myMail.appendChild(mySubject);
                    myMail.appendChild(myBody);
                    

                        }, 10000);


            
            var emailMe = document.getElementsByClassName('myMail');
                for (var i = 0; i<emailMe.length; i++){
                    emailMe[i].addEventListener('click', toggleBody);
                }
        function toggleBody(id) { 
            var showBody = this.querySelectorAll('.myBody')[0];
                 if(showBody.style.display === 'none') {
                     showBody.style.display = 'block';
                 }else{
                     showBody.style.display = 'none';
                 }
             }

              

         }     

        buildMe(geemails);
/**************************************************************************************
                                    GET INBOX COUNT
**************************************************************************************/
            var inboxCount = main.children.length;
            var getInbox = document.getElementById('main');

        setInterval(function() {
            inboxCount++;
            sideInbox.innerHTML = "Inbox(" + inboxCount+ ")";

        }, 10000);

/*************************************************************************************
Buttons for internal navigation and also side div
**************************************************************************************/

        var topNav = document.createElement('td');
                topNav.className = "topNav";
                    topNav.innerHTML = "Primary";

        var social = document.createElement('td');
                social.className = "social";
                    social.innerHTML = "Social";

        var sideDiv = document.createElement('div');
                sideDiv.className = "sideDiv";
    
        var compose = document.createElement('BUTTON');
                compose.className = "compose";
                    compose.innerHTML = "COMPOSE";    

        var sideText = document.createElement('div');
                sideText.className = "sideText";

        var sideInbox = document.createElement('div');
                sideInbox.className = "sideInbox";
                    sideInbox.innerHTML = "Inbox(" + inboxCount +")";

        var sideStarred = document.createElement('div');
                sideStarred.className = "sideStarred";
                    sideStarred.innerHTML = "Starred";

        var sideSent = document.createElement('div');
                sideSent.className = "sideSent";
                    sideSent.innerHTML = "Sent";

        var sideDraft = document.createElement('div');
                sideDraft.className = "sideDraft";
                    sideDraft.innerHTML = "Drafts"; 


side.appendChild(compose);
side.appendChild(sideText);    
sideText.appendChild(sideInbox);       
sideText.appendChild(sideStarred);    
sideText.appendChild(sideSent);    
sideText.appendChild(sideDraft);   
side.appendChild(sideDiv);
menu.appendChild(topNav);
menu.appendChild(social);
side.appendChild(input);
 
      };
    </script>
    </head>
    <body>
        <div><img src="https://thumbs.dreamstime.com/t/beach-banner-38366836.jpg"; width="1350px"; height="200px;" /></div>
        <table id="menu"></table>
        <div id="side"></div>
        <div class="container" id="main">
            
        </div>
    

    </body>
</html>